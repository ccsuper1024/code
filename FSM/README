一个通用的状态机框架
